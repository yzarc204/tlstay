import{u as w,r as k,c as i,a as o,b as a,h as C,w as p,d as t,o as l,q as $,f as x,F as y,i as D,t as n,y as P,l as g,m as N}from"./app-Bt1z262F.js";import{a as f,_ as V}from"./AppLayout-Ddx7PIm4.js";import{b as v}from"./FlashToaster-Cms5pOrK.js";import{r as B}from"./MapPinIcon-BbjlIJa0.js";import{r as M}from"./StarIcon-Bb2xxkOY.js";/* empty css            */import"./auth-CeThKYyE.js";import"./ChevronDownIcon-DKwfb7zy.js";import"./UserIcon-h1VzPKM1.js";import"./DocumentTextIcon-q_L84j7A.js";import"./PhoneIcon-BBaC4Ve5.js";import"./EnvelopeIcon-BxlORJDl.js";const F={class:"wishlist py-12 bg-light min-h-screen"},j={class:"container mx-auto px-4"},R={key:0,class:"text-center py-20"},q={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},z={class:"relative overflow-hidden h-56"},A=["src","alt","onClick"],E={class:"absolute top-4 left-4"},H={class:"badge bg-primary text-white"},S={class:"absolute top-4 right-4"},T=["onClick","disabled"],W={key:1,class:"animate-spin h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},K={class:"p-5"},L=["onClick"],X={class:"flex items-start space-x-2 text-gray-600 mb-4"},G={class:"text-sm"},I={class:"flex items-center space-x-4 text-sm text-gray-600 mb-4 pb-4 border-b"},J={class:"flex items-center space-x-1"},O={class:"text-gray-400"},Q={class:"flex items-center space-x-1"},U={class:"flex items-center justify-between"},Y={class:"text-2xl font-bold text-primary"},Z={class:"text-sm text-gray-500"},tt=["onClick"],mt={__name:"Wishlist",props:{wishlists:{type:Array,default:()=>[]}},setup(u){w();const c=k(null),m=r=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(r),_=r=>r.pricePerMonth?r.pricePerMonth:r.pricePerDay?Math.round(r.pricePerDay*30):0,d=r=>{g.visit(`/houses/${r}`)},b=async r=>{if(!c.value){c.value=r;try{await N.delete(`/wishlist/${r}`),g.reload({only:["wishlists"],preserveScroll:!0})}catch(s){console.error("Error removing from wishlist:",s)}finally{c.value=null}}};return(r,s)=>(l(),i(y,null,[o(a(C),{title:"Danh sách yêu thích"}),o(V,null,{default:p(()=>[t("div",F,[t("div",j,[s[5]||(s[5]=t("div",{class:"mb-8"},[t("h1",{class:"text-4xl font-bold text-secondary mb-2"}," Danh sách yêu thích "),t("p",{class:"text-gray-600"},"Các nhà trọ bạn đã lưu")],-1)),u.wishlists.length===0?(l(),i("div",R,[o(a(f),{class:"w-24 h-24 text-gray-300 mx-auto mb-4"}),s[1]||(s[1]=t("h3",{class:"text-2xl font-semibold text-gray-700 mb-2"}," Chưa có nhà trọ yêu thích ",-1)),s[2]||(s[2]=t("p",{class:"text-gray-500 mb-6"}," Hãy khám phá và thêm các nhà trọ bạn quan tâm vào danh sách yêu thích ",-1)),o(a($),{href:"/houses",class:"inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors"},{default:p(()=>[o(a(v),{class:"w-5 h-5 mr-2"}),s[0]||(s[0]=x(" Khám phá nhà trọ ",-1))]),_:1})])):(l(),i("div",q,[(l(!0),i(y,null,D(u.wishlists,e=>(l(),i("div",{key:e.id,class:"card group relative"},[t("div",z,[t("img",{src:e.house.image||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800",alt:e.house.name,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500 cursor-pointer",onClick:h=>d(e.house.id)},null,8,A),t("div",E,[t("span",H,n(e.house.availableRooms)+" phòng trống ",1)]),t("div",S,[t("button",{onClick:h=>b(e.id),class:"w-10 h-10 bg-white rounded-full flex items-center justify-center hover:bg-red-500 hover:text-white transition-all duration-300 shadow-md hover:shadow-lg",disabled:c.value===e.id},[c.value!==e.id?(l(),P(a(f),{key:0,class:"w-5 h-5 fill-current text-red-500"})):(l(),i("svg",W,[...s[3]||(s[3]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])]))],8,T)])]),t("div",K,[t("h3",{class:"text-xl font-bold text-gray-900 mb-2 group-hover:text-primary transition-colors cursor-pointer",onClick:h=>d(e.house.id)},n(e.house.name),9,L),t("div",X,[o(a(B),{class:"w-5 h-5 mt-0.5 flex-shrink-0"}),t("span",G,n(e.house.address),1)]),t("div",I,[t("div",J,[o(a(M),{class:"w-5 h-5 text-yellow-400"}),t("span",null,n(e.house.rating),1),t("span",O,"("+n(e.house.reviews)+")",1)]),t("div",Q,[o(a(v),{class:"w-5 h-5"}),t("span",null,n(e.house.totalRooms)+" phòng",1)])]),t("div",U,[t("div",null,[t("p",Y,[x(n(m(_(e.house)))+" ",1),s[4]||(s[4]=t("span",{class:"text-sm text-gray-500 font-normal"},"/tháng",-1))]),t("p",Z,n(m(e.house.pricePerDay))+"/ngày ",1)]),t("button",{onClick:h=>d(e.house.id),class:"px-5 py-2.5 bg-primary text-white rounded-lg hover:bg-secondary transition-all duration-300 font-medium shadow-md hover:shadow-lg transform hover:-translate-y-0.5"}," Xem chi tiết ",8,tt)])])]))),128))]))])])]),_:1})],64))}};export{mt as default};
