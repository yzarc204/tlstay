import{p as U,r as f,c as d,a as m,b as s,h as C,w as c,d as t,e as b,q as v,f as y,o as u,t as h,k as N,g as o,v as a,s as _,j as D,F as S}from"./app-ppQx7_BQ.js";import{r as T,_ as j}from"./AdminLayout-BFmvflv5.js";import{r as F}from"./ChevronLeftIcon-DRQc4L3z.js";/* empty css            */import"./FlashToaster-DRaP0e7V.js";import"./MapPinIcon-L4fB1UUx.js";import"./CalendarIcon-B2fvGfwC.js";import"./BuildingOfficeIcon-D5_B3Cmo.js";const $={class:"space-y-6"},H={class:"flex items-center justify-between"},I={key:0,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},M={class:"text-green-800"},P={key:1,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},B={class:"text-red-800"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},O={class:"md:col-span-2"},q={class:"md:col-span-2"},E={class:"md:col-span-2"},L={class:"md:col-span-2"},R={class:"flex items-center"},A={class:"space-y-4"},J={class:"flex items-center"},K={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Q={class:"md:col-span-2"},z={class:"md:col-span-2"},W={class:"md:col-span-2"},X={key:0,class:"mb-4"},Y=["src"],Z={key:1,class:"mb-4"},ee=["src"],te={class:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-primary transition-colors"},re={class:"space-y-1 text-center"},se={class:"flex text-sm text-gray-600"},ne={class:"relative cursor-pointer bg-white rounded-md font-medium text-primary hover:text-primary-700 focus-within:outline-none"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oe={class:"flex justify-end space-x-4 pt-6 border-t"},ie=["disabled"],ae={key:0},de={key:1},fe={__name:"Edit",props:{banner:{type:Object,required:!0}},setup(g){const l=g,r=U({title:l.banner.title||"",description:l.banner.description||"",image:null,link:l.banner.link||"",order:l.banner.order||0,is_active:l.banner.is_active??!0,start_date:l.banner.start_date?new Date(l.banner.start_date).toISOString().slice(0,16):"",end_date:l.banner.end_date?new Date(l.banner.end_date).toISOString().slice(0,16):"",show_text:l.banner.show_text??!1,text_title:l.banner.text_title||"",text_subtitle:l.banner.text_subtitle||"",text_line1:l.banner.text_line1||"",text_line2:l.banner.text_line2||"",text_line3:l.banner.text_line3||"",text_position:l.banner.text_position||"center"}),x=f(null),p=f(null),w=i=>{const e=i.target.files[0];if(e){r.image=e;const n=new FileReader;n.onload=V=>{p.value=V.target.result},n.readAsDataURL(e)}else r.image=null,p.value=null},k=()=>{const i={title:r.title,description:r.description,link:r.link,order:r.order,is_active:r.is_active,start_date:r.start_date,end_date:r.end_date,show_text:r.show_text,text_title:r.text_title,text_subtitle:r.text_subtitle,text_line1:r.text_line1,text_line2:r.text_line2,text_line3:r.text_line3,text_position:r.text_position};r.image&&r.image instanceof File&&(i.image=r.image),r.transform(()=>i).post(`/admin/banners/${l.banner.id}`,{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{p.value=null,x.value&&(x.value.value=""),r.image=null},onError:e=>{console.error("Update errors:",e)}})};return(i,e)=>(u(),d(S,null,[m(s(C),{title:"Chỉnh sửa banner"}),m(j,{title:"Chỉnh sửa banner"},{default:c(()=>[t("div",$,[t("div",H,[t("div",null,[m(s(v),{href:"/admin/banners",class:"text-primary hover:text-primary-600 mb-2 inline-flex items-center text-sm"},{default:c(()=>[m(s(F),{class:"h-4 w-4 mr-1"}),e[12]||(e[12]=y(" Quay lại danh sách ",-1))]),_:1}),e[13]||(e[13]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Chỉnh sửa slider",-1))])]),i.$page.props.flash?.success?(u(),d("div",I,[t("p",M,h(i.$page.props.flash.success),1)])):b("",!0),i.$page.props.flash?.error?(u(),d("div",P,[t("p",B,h(i.$page.props.flash.error),1)])):b("",!0),t("form",{onSubmit:N(k,["prevent"]),class:"bg-white rounded-lg shadow-sm p-6 space-y-6"},[t("div",null,[e[19]||(e[19]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Thông tin cơ bản",-1)),t("div",G,[t("div",O,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[y(" Tiêu đề "),t("span",{class:"text-red-500"},"*")],-1)),o(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>s(r).title=n),type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nhập tiêu đề banner"},null,512),[[a,s(r).title]])]),t("div",q,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mô tả",-1)),o(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=n=>s(r).description=n),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nhập mô tả banner..."},null,512),[[a,s(r).description]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Thứ tự hiển thị",-1)),o(t("input",{"onUpdate:modelValue":e[2]||(e[2]=n=>s(r).order=n),type:"number",min:"0",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"0"},null,512),[[a,s(r).order,void 0,{number:!0}]])]),t("div",E,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Link (URL)",-1)),o(t("input",{"onUpdate:modelValue":e[3]||(e[3]=n=>s(r).link=n),type:"url",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"https://example.com"},null,512),[[a,s(r).link]])]),t("div",L,[t("label",R,[o(t("input",{"onUpdate:modelValue":e[4]||(e[4]=n=>s(r).is_active=n),type:"checkbox",class:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"},null,512),[[_,s(r).is_active]]),e[18]||(e[18]=t("span",{class:"ml-2 text-sm text-gray-700"},"Kích hoạt banner",-1))])])])]),t("div",null,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Text Overlay (Chữ trên slider)",-1)),t("div",A,[t("div",null,[t("label",J,[o(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>s(r).show_text=n),type:"checkbox",class:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"},null,512),[[_,s(r).show_text]]),e[20]||(e[20]=t("span",{class:"ml-2 text-sm text-gray-700"},"Hiển thị chữ trên slider",-1))])]),s(r).show_text?(u(),d("div",K,[t("div",Q,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dòng 1 (chữ nhỏ)",-1)),o(t("input",{"onUpdate:modelValue":e[6]||(e[6]=n=>s(r).text_line1=n),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nhập dòng 1 (chữ nhỏ)"},null,512),[[a,s(r).text_line1]])]),t("div",z,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dòng 2 (chữ to)",-1)),o(t("input",{"onUpdate:modelValue":e[7]||(e[7]=n=>s(r).text_line2=n),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nhập dòng 2 (chữ to)"},null,512),[[a,s(r).text_line2]])]),t("div",W,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Dòng 3 (chữ nhỏ)",-1)),o(t("input",{"onUpdate:modelValue":e[8]||(e[8]=n=>s(r).text_line3=n),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Nhập dòng 3 (chữ nhỏ)"},null,512),[[a,s(r).text_line3]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Vị trí chữ",-1)),o(t("select",{"onUpdate:modelValue":e[9]||(e[9]=n=>s(r).text_position=n),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},[...e[24]||(e[24]=[t("option",{value:"left"},"Trái",-1),t("option",{value:"center"},"Giữa",-1),t("option",{value:"right"},"Phải",-1)])],512),[[D,s(r).text_position]])])])):b("",!0)])]),t("div",null,[e[33]||(e[33]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Hình ảnh",-1)),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Hình ảnh banner",-1)),g.banner.image&&!p.value?(u(),d("div",X,[t("img",{src:g.banner.image,alt:"Current banner",class:"max-w-full h-64 object-contain rounded-lg border border-gray-300"},null,8,Y),e[27]||(e[27]=t("p",{class:"text-sm text-gray-500 mt-2"},"Hình ảnh hiện tại",-1))])):b("",!0),p.value?(u(),d("div",Z,[t("img",{src:p.value,alt:"Preview",class:"max-w-full h-64 object-contain rounded-lg border border-gray-300"},null,8,ee),e[28]||(e[28]=t("p",{class:"text-sm text-gray-500 mt-2"},"Hình ảnh mới",-1))])):b("",!0),t("div",te,[t("div",re,[m(s(T),{class:"mx-auto h-12 w-12 text-gray-400"}),t("div",se,[t("label",ne,[e[29]||(e[29]=t("span",null,"Chọn file mới",-1)),t("input",{ref_key:"fileInput",ref:x,type:"file",accept:"image/*",class:"sr-only",onChange:w},null,544)]),e[30]||(e[30]=t("p",{class:"pl-1"},"hoặc kéo thả vào đây",-1))]),e[31]||(e[31]=t("p",{class:"text-xs text-gray-500"},"PNG, JPG, GIF tối đa 5MB",-1))])])])]),t("div",null,[e[36]||(e[36]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Thời gian hiển thị (Tùy chọn)",-1)),t("div",le,[t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ngày bắt đầu",-1)),o(t("input",{"onUpdate:modelValue":e[10]||(e[10]=n=>s(r).start_date=n),type:"datetime-local",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[a,s(r).start_date]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ngày kết thúc",-1)),o(t("input",{"onUpdate:modelValue":e[11]||(e[11]=n=>s(r).end_date=n),type:"datetime-local",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[a,s(r).end_date]])])])]),t("div",oe,[m(s(v),{href:"/admin/banners",class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:c(()=>[...e[37]||(e[37]=[y(" Hủy ",-1)])]),_:1}),t("button",{type:"submit",disabled:s(r).processing,class:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[s(r).processing?(u(),d("span",de,"Đang cập nhật...")):(u(),d("span",ae,"Cập nhật slider"))],8,ie)])],32)])]),_:1})],64))}};export{fe as default};
