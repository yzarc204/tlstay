import{r as f,A as q,z as oe,c as a,a as u,b as p,h as ae,w as S,d as t,q as W,f as m,k as T,e as g,g as k,n as h,v as $,o as n,t as c,F,i as U,s as ne,l as ie}from"./app-BdvrGfPi.js";import{u as de}from"./index-RUEPf7dh.js";import{_ as ue}from"./AdminLayout-D0_Tytgw.js";import{_ as pe}from"./SelectSearchable-CbkjUBk_.js";import{r as ce}from"./ChevronLeftIcon-D1zwSkzB.js";import{r as I}from"./ExclamationCircleIcon-A4X1VRn0.js";import{r as z}from"./PhotoIcon-CRNKT6Rd.js";import{a as L}from"./FlashToaster-hPDfO9im.js";/* empty css            */import"./MapPinIcon-nqipV6id.js";import"./CalendarIcon-MSb10H2b.js";import"./BuildingOfficeIcon-CEx4fCQM.js";import"./ChevronUpDownIcon-C3BsSr4N.js";const me={class:"space-y-6"},ge={class:"flex items-center justify-between"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},fe={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},ye={class:"mt-6"},be={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},we={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$e={class:"flex items-center gap-2"},Ie={class:"text-xs text-gray-500 font-medium whitespace-nowrap"},Ve={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Be={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Ee={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Me={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ne=["value"],Fe={class:"text-sm text-gray-700"},Pe={key:0,class:"mt-1 text-sm text-red-600"},Ae={class:"flex items-center justify-between mb-4"},je={class:"text-sm text-gray-600"},Se={class:"font-medium"},Te={key:0,class:"text-green-600 ml-2"},Ue={key:1,class:"text-red-600 ml-2"},De={class:"space-y-4"},Ge={class:"space-y-4"},Oe={class:"flex flex-col items-center"},qe={key:0,class:"mt-2 text-xs font-medium text-red-600"},We={key:0,class:"text-sm text-red-600"},ze={key:1,class:"space-y-2"},Le={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Ke={class:"relative overflow-hidden rounded-lg"},Re=["src","alt","onClick","onError"],Je={key:1,class:"w-full h-32 bg-gray-100 flex items-center justify-center border-2 border-gray-200"},Xe=["onClick"],Ze={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},He={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Qe={key:2,class:"space-y-2"},Ye={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},et={class:"relative overflow-hidden rounded-lg"},tt=["src","alt","onClick"],rt=["onClick"],st={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},lt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},at={class:"text-sm text-red-600"},nt={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},it={class:"text-sm text-green-600"},dt={class:"flex justify-end gap-3 pt-4 border-t"},ut=["disabled"],$t={__name:"Edit",props:{house:{type:Object,required:!0},streets:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},setup(D){const K={Wifi:"Wifi",AirConditioning:"Điều hòa",HotWater:"Nóng lạnh",PrivateKitchen:"Bếp riêng",SharedKitchen:"Bếp chung",SharedBathroom:"Vệ sinh chung",PrivateBathroom:"Vệ sinh khép kín",Bed:"Giường",Wardrobe:"Tủ",Refrigerator:"Tủ lạnh",Balcony:"Ban công",SharedWashingMachine:"Máy giặt chung",PrivateWashingMachine:"Máy giặt riêng",SharedDryer:"Máy sấy quần áo chung",PrivateDryer:"Máy sấy quần áo riêng"},i=D,l=f({name:"",street_detail:"",street_id:"",description:"",amenities:[],price_per_day:"",latitude:"",longitude:"",contact_phone:"",contact_email:""}),C=f(null),G=f(null),v=f([]),B=f([]),E=f([]),y=f([]),b=f([]),M=f(!1),x=f(""),N=f(""),o=f({}),P=q(()=>v.value.length+E.value.length),V=q(()=>Math.max(0,10-P.value)),R=s=>s?new Intl.NumberFormat("vi-VN").format(s):"0",J=s=>!s||s===0?"":R(s)+" đ";oe(()=>{let s="",e="";i.house.street_id&&(e=i.house.street_id),i.house.street_detail?s=i.house.street_detail:i.house.address&&(s=i.house.address),l.value={name:i.house.name||"",street_detail:s,street_id:e,description:i.house.description||"",amenities:i.house.amenities?[...i.house.amenities]:[],price_per_day:i.house.price_per_day||"",latitude:i.house.latitude||"",longitude:i.house.longitude||"",contact_phone:i.house.contact_phone||"",contact_email:i.house.contact_email||""},i.house.images&&Array.isArray(i.house.images)?v.value=i.house.images.filter(r=>r&&r.trim()!==""):i.house.image&&i.house.image.trim()!==""?v.value=[i.house.image]:v.value=[],i.house.featured_images&&Array.isArray(i.house.featured_images)?y.value=i.house.featured_images.filter(r=>r&&r.trim()!==""):y.value=[],i.errors&&Object.keys(i.errors).length>0&&(o.value={...i.errors})});const{isOverDropZone:X}=de(G,{onDrop:s=>{s&&s.length>0&&O(Array.from(s))}}),O=s=>{if(x.value="",P.value+s.length>10){const r=V.value;x.value=`Chỉ có thể thêm tối đa ${r} ảnh nữa (tổng tối đa 10 ảnh)`;return}s.forEach(r=>{if(r.size>5*1024*1024){x.value=`Ảnh ${r.name} vượt quá 5MB`;return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(r.type)){x.value=`File ${r.name} không phải là ảnh hợp lệ (JPEG, PNG, JPG, GIF, WEBP)`;return}E.value.push(r);const w=new FileReader;w.onload=le=>{B.value.push(le.target.result)},w.readAsDataURL(r)})},Z=s=>{const e=Array.from(s.target.files);O(e),C.value&&(C.value.value="")},H=s=>{const e=v.value[s];v.value.splice(s,1);const r=y.value.indexOf(e);r>-1&&y.value.splice(r,1)},Q=s=>{const e=v.value[s];v.value.splice(s,1);const r=y.value.indexOf(e);r>-1&&y.value.splice(r,1)},Y=s=>{E.value.splice(s,1),B.value.splice(s,1);const e=b.value.indexOf(s);e>-1&&b.value.splice(e,1),b.value=b.value.map(r=>r>s?r-1:r)},A=s=>y.value.includes(v.value[s]),ee=s=>{const e=v.value[s],r=y.value.indexOf(e);r>-1?y.value.splice(r,1):y.value.push(e)},j=s=>b.value.includes(s),te=s=>{const e=b.value.indexOf(s);e>-1?b.value.splice(e,1):b.value.push(s)},_=s=>{o.value[s]&&delete o.value[s]},re=()=>{const s={};return l.value.name?.trim()||(s.name="Vui lòng nhập tên nhà trọ"),l.value.street_detail?.trim()||(s.street_detail="Vui lòng nhập địa chỉ cụ thể"),l.value.street_id||(s.street_id="Vui lòng chọn đường"),(!l.value.price_per_day||l.value.price_per_day<=0)&&(s.price_per_day="Vui lòng nhập giá thuê hợp lệ"),l.value.latitude&&(l.value.latitude<-90||l.value.latitude>90)&&(s.latitude="Vĩ độ phải trong khoảng -90 đến 90"),l.value.longitude&&(l.value.longitude<-180||l.value.longitude>180)&&(s.longitude="Kinh độ phải trong khoảng -180 đến 180"),l.value.contact_phone&&!/^(0|\+84)[1-9][0-9]{8,9}$/.test(l.value.contact_phone.replace(/\s+/g,""))&&(s.contact_phone="Số điện thoại không hợp lệ"),l.value.contact_email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.value.contact_email)&&(s.contact_email="Email không hợp lệ"),o.value=s,Object.keys(s).length===0},se=()=>{if(x.value="",N.value="",!re()){x.value="Vui lòng kiểm tra lại các trường bắt buộc";return}M.value=!0;const s=new FormData;s.append("_method","PUT"),s.append("name",l.value.name),s.append("street_detail",l.value.street_detail),s.append("street_id",l.value.street_id),l.value.description&&s.append("description",l.value.description),s.append("price_per_day",l.value.price_per_day),l.value.latitude&&s.append("latitude",l.value.latitude),l.value.longitude&&s.append("longitude",l.value.longitude),l.value.contact_phone&&s.append("contact_phone",l.value.contact_phone),l.value.contact_email&&s.append("contact_email",l.value.contact_email),l.value.amenities.forEach(e=>{s.append("amenities[]",e)}),v.value.forEach(e=>{s.append("existing_images[]",e)}),E.value.forEach(e=>{s.append("images[]",e)}),y.value.forEach(e=>{s.append("featured_images[]",e)}),b.value.forEach(e=>{s.append("featured_image_indices[]",e)}),ie.post(`/admin/houses/${i.house.id}`,s,{preserveScroll:!0,onSuccess:()=>{N.value="Đã cập nhật nhà trọ thành công!"},onError:e=>{o.value=e,e.message&&(x.value=e.message)},onFinish:()=>{M.value=!1}})};return(s,e)=>(n(),a(F,null,[u(p(ae),{title:"Chỉnh sửa nhà trọ"}),u(ue,{title:"Chỉnh sửa nhà trọ"},{default:S(()=>[t("div",me,[t("div",ge,[t("div",null,[u(p(W),{href:"/admin/houses",class:"text-primary hover:text-primary-600 mb-2 inline-flex items-center text-sm"},{default:S(()=>[u(p(ce),{class:"h-4 w-4 mr-1"}),e[20]||(e[20]=m(" Quay lại danh sách ",-1))]),_:1}),e[21]||(e[21]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Chỉnh sửa nhà trọ",-1))])]),t("form",{onSubmit:T(se,["prevent"]),class:"bg-white rounded-lg shadow-sm p-6 space-y-6"},[t("div",null,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Thông tin cơ bản",-1)),t("div",ve,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Tên nhà trọ "),t("span",{class:"text-red-500"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>l.value.name=r),type:"text",required:"",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.name?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Nhập tên nhà trọ",onBlur:e[1]||(e[1]=r=>_("name"))},null,34),[[$,l.value.name]]),o.value.name?(n(),a("p",he,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.name),1)])):g("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Địa chỉ cụ thể "),t("span",{class:"text-red-500"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.street_detail=r),type:"text",required:"",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.street_detail?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Số nhà, ngõ ngách...",onBlur:e[3]||(e[3]=r=>_("street_detail"))},null,34),[[$,l.value.street_detail]]),o.value.street_detail?(n(),a("p",fe,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.street_detail),1)])):g("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Đường "),t("span",{class:"text-red-500"},"*")],-1)),u(pe,{modelValue:l.value.street_id,"onUpdate:modelValue":[e[4]||(e[4]=r=>l.value.street_id=r),e[5]||(e[5]=r=>_("street_id"))],options:D.streets,"option-value":"id","option-label":r=>r.parent?`${r.name} (${r.parent.name})`:r.name,"filter-by":r=>r.parent?`${r.name} ${r.parent.name}`:r.name,placeholder:"Tìm kiếm và chọn đường...",error:o.value.street_id},null,8,["modelValue","options","option-label","filter-by","error"])])]),t("div",ye,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mô tả",-1)),k(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>l.value.description=r),rows:"4",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.description?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Nhập mô tả về nhà trọ...",onBlur:e[7]||(e[7]=r=>_("description"))},null,34),[[$,l.value.description]]),o.value.description?(n(),a("p",be,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.description),1)])):g("",!0)])]),t("div",null,[e[29]||(e[29]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Vị trí",-1)),t("div",xe,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Vĩ độ",-1)),k(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>l.value.latitude=r),type:"number",step:"any",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.latitude?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"21.0285",onBlur:e[9]||(e[9]=r=>_("latitude"))},null,34),[[$,l.value.latitude]]),o.value.latitude?(n(),a("p",_e,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.latitude),1)])):g("",!0)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kinh độ",-1)),k(t("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>l.value.longitude=r),type:"number",step:"any",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.longitude?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"105.8542",onBlur:e[11]||(e[11]=r=>_("longitude"))},null,34),[[$,l.value.longitude]]),o.value.longitude?(n(),a("p",we,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.longitude),1)])):g("",!0)])])]),t("div",null,[e[31]||(e[31]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Giá và thông tin",-1)),t("div",ke,[t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Giá thuê/ngày (VNĐ) "),t("span",{class:"text-red-500"},"*")],-1)),t("div",$e,[k(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>l.value.price_per_day=r),type:"number",step:"1000",min:"0",required:"",class:h(["flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.price_per_day?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"500000",onBlur:e[13]||(e[13]=r=>_("price_per_day"))},null,34),[[$,l.value.price_per_day,void 0,{number:!0}]]),t("span",Ie,c(J(l.value.price_per_day)),1)]),o.value.price_per_day?(n(),a("p",Ve,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.price_per_day),1)])):g("",!0)])])]),t("div",null,[e[34]||(e[34]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Thông tin liên hệ",-1)),t("div",Ce,[t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Số điện thoại",-1)),k(t("input",{"onUpdate:modelValue":e[14]||(e[14]=r=>l.value.contact_phone=r),type:"tel",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.contact_phone?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"0123456789",onBlur:e[15]||(e[15]=r=>_("contact_phone"))},null,34),[[$,l.value.contact_phone]]),o.value.contact_phone?(n(),a("p",Be,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.contact_phone),1)])):g("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),k(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>l.value.contact_email=r),type:"email",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",o.value.contact_email?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"contact@example.com",onBlur:e[17]||(e[17]=r=>_("contact_email"))},null,34),[[$,l.value.contact_email]]),o.value.contact_email?(n(),a("p",Ee,[u(p(I),{class:"h-4 w-4"}),m(" "+c(o.value.contact_email),1)])):g("",!0)])])]),t("div",null,[e[35]||(e[35]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Tiện nghi",-1)),t("div",Me,[(n(),a(F,null,U(K,(r,d)=>t("label",{key:d,class:"flex items-center space-x-2 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[k(t("input",{"onUpdate:modelValue":e[18]||(e[18]=w=>l.value.amenities=w),type:"checkbox",value:d,class:"rounded border-gray-300 text-primary focus:ring-primary"},null,8,Ne),[[ne,l.value.amenities]]),t("span",Fe,c(r),1)])),64))]),o.value.amenities?(n(),a("p",Pe,c(o.value.amenities),1)):g("",!0)]),t("div",null,[t("div",Ae,[e[37]||(e[37]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Hình ảnh",-1)),t("div",je,[t("span",Se,c(P.value),1),e[36]||(e[36]=m(" / 10 ảnh ",-1)),V.value>0?(n(),a("span",Te," (Còn có thể thêm "+c(V.value)+" ảnh) ",1)):(n(),a("span",Ue," (Đã đạt giới hạn) "))])]),t("div",De,[t("div",{ref_key:"dropZoneRef",ref:G,class:h(["border-2 border-dashed rounded-lg p-8 text-center transition-colors",V.value>0?"cursor-pointer border-gray-300 hover:border-gray-400":"cursor-not-allowed border-gray-200 bg-gray-50 opacity-60",p(X)&&V.value>0?"border-primary bg-primary/5":""]),onClick:e[19]||(e[19]=r=>V.value>0?C.value?.click():null)},[t("input",{ref_key:"fileInput",ref:C,type:"file",multiple:"",accept:"image/*",onChange:Z,class:"hidden"},null,544),t("div",Ge,[t("div",Oe,[u(p(z),{class:"h-12 w-12 text-gray-400 mb-2"}),e[38]||(e[38]=t("p",{class:"text-sm font-medium text-gray-700"},[m(" Kéo thả ảnh vào đây hoặc "),t("span",{class:"text-primary hover:text-primary-600 font-medium underline"}," chọn từ máy tính ")],-1)),e[39]||(e[39]=t("p",{class:"mt-1 text-xs text-gray-500"}," Tối đa 10 ảnh, mỗi ảnh tối đa 5MB ",-1)),e[40]||(e[40]=t("p",{class:"mt-1 text-xs text-gray-500"}," Định dạng: JPEG, PNG, JPG, GIF, WEBP ",-1)),V.value===0?(n(),a("p",qe," Đã đạt giới hạn 10 ảnh. Vui lòng xóa ảnh để thêm ảnh mới. ")):g("",!0)])])],2),o.value.images?(n(),a("p",We,c(o.value.images),1)):g("",!0),v.value.length>0?(n(),a("div",ze,[e[43]||(e[43]=t("h3",{class:"text-sm font-medium text-gray-700"},"Ảnh hiện có",-1)),e[44]||(e[44]=t("p",{class:"text-xs text-gray-500 mb-2"}," Nhấp vào ảnh để chọn hiển thị trong chi tiết, nhấp vào X để xóa ảnh ",-1)),t("div",Le,[(n(!0),a(F,null,U(v.value,(r,d)=>(n(),a("div",{key:d,class:"relative group"},[t("div",Ke,[r&&r.trim()!==""?(n(),a("img",{key:0,src:r,alt:`Image ${d+1}`,class:h(["w-full h-32 object-cover transition-all cursor-pointer border-2",A(d)?"border-primary ring-2 ring-primary ring-offset-2 scale-105":"border-gray-200 hover:border-gray-300"]),onClick:w=>ee(d),onError:w=>Q(d)},null,42,Re)):(n(),a("div",Je,[u(p(z),{class:"h-8 w-8 text-gray-400"})])),t("button",{type:"button",onClick:T(w=>H(d),["stop"]),class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg opacity-80 group-hover:opacity-100 transition-all duration-200 hover:scale-110 z-10",title:"Xóa ảnh này"},[u(p(L),{class:"h-4 w-4"})],8,Xe),t("div",{class:h(["absolute top-2 left-2 rounded-full p-1 shadow-lg transition-all duration-200",A(d)?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-white text-gray-400 hover:bg-gray-50"])},[A(d)?(n(),a("svg",Ze,[...e[41]||(e[41]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(n(),a("svg",He,[...e[42]||(e[42]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],2)])]))),128))])])):g("",!0),B.value.length>0?(n(),a("div",Qe,[e[47]||(e[47]=t("h3",{class:"text-sm font-medium text-gray-700"},"Ảnh mới",-1)),e[48]||(e[48]=t("p",{class:"text-xs text-gray-500 mb-2"}," Nhấp vào ảnh để chọn hiển thị trong chi tiết, nhấp vào X để xóa ảnh ",-1)),t("div",Ye,[(n(!0),a(F,null,U(B.value,(r,d)=>(n(),a("div",{key:d,class:"relative group"},[t("div",et,[t("img",{src:r,alt:`New preview ${d+1}`,class:h(["w-full h-32 object-cover transition-all cursor-pointer border-2",j(d)?"border-primary ring-2 ring-primary ring-offset-2 scale-105":"border-gray-200 hover:border-gray-300"]),onClick:w=>te(d)},null,10,tt),t("button",{type:"button",onClick:T(w=>Y(d),["stop"]),class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg opacity-80 group-hover:opacity-100 transition-all duration-200 hover:scale-110 z-10",title:"Xóa ảnh này"},[u(p(L),{class:"h-4 w-4"})],8,rt),t("div",{class:h(["absolute top-2 left-2 rounded-full p-1 shadow-lg transition-all duration-200",j(d)?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-white text-gray-400 hover:bg-gray-50"])},[j(d)?(n(),a("svg",st,[...e[45]||(e[45]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(n(),a("svg",lt,[...e[46]||(e[46]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],2)])]))),128))])])):g("",!0)])]),x.value?(n(),a("div",ot,[t("p",at,c(x.value),1)])):g("",!0),N.value?(n(),a("div",nt,[t("p",it,c(N.value),1)])):g("",!0),t("div",dt,[u(p(W),{href:"/admin/houses",class:"px-6 py-2 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:S(()=>[...e[49]||(e[49]=[m(" Hủy ",-1)])]),_:1}),t("button",{type:"submit",disabled:M.value,class:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},c(M.value?"Đang lưu...":"Cập nhật nhà trọ"),9,ut)])],32)])]),_:1})],64))}};export{$t as default};
