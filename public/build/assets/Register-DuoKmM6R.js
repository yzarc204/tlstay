import{u as q,r as d,c as p,a as o,d as t,b as l,h as C,a4 as N,k as R,e as k,g as v,v as y,a6 as _,y as x,f as i,w as g,q as b,t as V,F as U,o as r}from"./app-BAzZH7GZ.js";import{u as B}from"./auth-BysJMb9A.js";import{r as j}from"./UserIcon-CGMoGnvG.js";import{r as A}from"./EnvelopeIcon-CNc2UOAz.js";import{r as D}from"./PhoneIcon-ZIaiO5dA.js";import{r as P}from"./LockClosedIcon-DFYDmVK3.js";import{r as T}from"./EyeIcon-GZ9NwWkm.js";import{r as $}from"./EyeSlashIcon-CR7eSncM.js";import{r as E}from"./ArrowPathIcon-BBQqv_S4.js";/* empty css            */const F={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-secondary to-primary py-12 px-4 sm:px-6 lg:px-8"},H={class:"max-w-md w-full"},L={class:"bg-white rounded-2xl shadow-2xl p-8"},X={class:"mb-4"},Y={class:"relative"},z={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},G={class:"mb-4"},I={class:"relative"},J={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},K={class:"mb-4"},O={class:"relative"},Q={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},W={class:"mb-4"},Z={class:"relative"},ee={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},te=["type"],se={class:"mb-6"},le={class:"relative"},ae={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},ne=["type"],oe={class:"mb-6"},re={class:"flex items-start"},ie={class:"ml-2 text-sm text-gray-600"},de={key:0,class:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg"},ue={class:"text-sm text-red-600"},me={key:1,class:"mb-4 p-3 bg-primary-50 border border-primary-200 rounded-lg"},pe={class:"text-sm text-primary"},ve=["disabled"],ce={key:0},he={key:1,class:"flex items-center justify-center"},fe={class:"mt-6 text-center text-sm text-gray-600"},Me={__name:"Register",setup(xe){const w=B();q();const s=d({name:"",email:"",phone:"",password:"",confirmPassword:""}),c=d(!1),h=d(!1),u=d(!1),n=d(""),m=d(""),M=async()=>{if(n.value="",m.value="",!s.value.name?.trim()){n.value="Vui lòng nhập họ tên";return}if(!s.value.email?.trim()){n.value="Vui lòng nhập email";return}if(!s.value.phone?.trim()){n.value="Vui lòng nhập số điện thoại";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.email)){n.value="Email không hợp lệ";return}const e=/^(0|\+84)[1-9][0-9]{8,9}$/,a=s.value.phone.replace(/\s+/g,"");if(!e.test(a)){n.value="Số điện thoại không hợp lệ (ví dụ: 0123456789 hoặc +84123456789)";return}if(s.value.password!==s.value.confirmPassword){n.value="Mật khẩu xác nhận không khớp";return}if(s.value.password.length<6){n.value="Mật khẩu phải có ít nhất 6 ký tự";return}u.value=!0,n.value="",m.value="",w.register({name:s.value.name,email:s.value.email,phone:s.value.phone,password:s.value.password,confirmPassword:s.value.confirmPassword},f=>{f.props?.auth?.user&&(w.user=f.props.auth.user),m.value="Đăng ký thành công! Đang chuyển hướng...",u.value=!1},f=>{n.value=f||"Đã có lỗi xảy ra khi đăng ký",u.value=!1})};return(S,e)=>(r(),p(U,null,[o(l(C),{title:"Đăng ký"}),t("div",F,[t("div",H,[e[22]||(e[22]=N('<div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-2xl mb-4"><span class="text-white font-bold text-2xl">RT</span></div><h2 class="text-3xl font-bold text-white mb-2">Tạo tài khoản</h2><p class="text-white/80">Tham gia TL STAY ngay hôm nay</p></div>',1)),t("div",L,[t("form",{onSubmit:R(M,["prevent"])},[t("div",X,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Họ và tên",-1)),t("div",Y,[t("div",z,[o(l(j),{class:"h-5 w-5 text-gray-400"})]),v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),type:"text",required:"",class:"input-field pl-10",placeholder:"Nguyễn Văn A"},null,512),[[y,s.value.name]])])]),t("div",G,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Địa chỉ email",-1)),t("div",I,[t("div",J,[o(l(A),{class:"h-5 w-5 text-gray-400"})]),v(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.email=a),type:"email",required:"",class:"input-field pl-10",placeholder:"user@example.com"},null,512),[[y,s.value.email]])])]),t("div",K,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Số điện thoại",-1)),t("div",O,[t("div",Q,[o(l(D),{class:"h-5 w-5 text-gray-400"})]),v(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.phone=a),type:"tel",required:"",class:"input-field pl-10",placeholder:"0123456789 hoặc +84123456789"},null,512),[[y,s.value.phone]])]),e[10]||(e[10]=t("p",{class:"mt-1 text-xs text-gray-500"},"Ví dụ: 0123456789 hoặc +84123456789",-1))]),t("div",W,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mật khẩu",-1)),t("div",Z,[t("div",ee,[o(l(P),{class:"h-5 w-5 text-gray-400"})]),v(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.password=a),type:c.value?"text":"password",required:"",class:"input-field pl-10 pr-10",placeholder:"••••••••"},null,8,te),[[_,s.value.password]]),t("button",{type:"button",onClick:e[4]||(e[4]=a=>c.value=!c.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[c.value?(r(),x(l($),{key:1,class:"h-5 w-5 text-gray-400"})):(r(),x(l(T),{key:0,class:"h-5 w-5 text-gray-400"}))])]),e[12]||(e[12]=t("p",{class:"mt-1 text-xs text-gray-500"},"Tối thiểu 6 ký tự",-1))]),t("div",se,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Xác nhận mật khẩu",-1)),t("div",le,[t("div",ae,[o(l(P),{class:"h-5 w-5 text-gray-400"})]),v(t("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.confirmPassword=a),type:h.value?"text":"password",required:"",class:"input-field pl-10 pr-10",placeholder:"••••••••"},null,8,ne),[[_,s.value.confirmPassword]]),t("button",{type:"button",onClick:e[6]||(e[6]=a=>h.value=!h.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[h.value?(r(),x(l($),{key:1,class:"h-5 w-5 text-gray-400"})):(r(),x(l(T),{key:0,class:"h-5 w-5 text-gray-400"}))])])]),t("div",oe,[t("label",re,[e[18]||(e[18]=t("input",{type:"checkbox",required:"",class:"mt-1 rounded border-gray-300 text-primary focus:ring-primary"},null,-1)),t("span",ie,[e[16]||(e[16]=i(" Tôi đồng ý với ",-1)),o(l(b),{href:"/terms",target:"_blank",class:"text-primary hover:text-secondary underline font-medium"},{default:g(()=>[...e[14]||(e[14]=[i("Điều khoản dịch vụ",-1)])]),_:1}),e[17]||(e[17]=i(" và ",-1)),o(l(b),{href:"/privacy",target:"_blank",class:"text-primary hover:text-secondary underline font-medium"},{default:g(()=>[...e[15]||(e[15]=[i("Chính sách bảo mật",-1)])]),_:1})])])]),n.value?(r(),p("div",de,[t("p",ue,V(n.value),1)])):k("",!0),m.value?(r(),p("div",me,[t("p",pe,V(m.value),1)])):k("",!0),t("button",{type:"submit",disabled:u.value,class:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed"},[u.value?(r(),p("span",he,[o(l(E),{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white"}),e[19]||(e[19]=i(" Đang tạo tài khoản... ",-1))])):(r(),p("span",ce,"Tạo tài khoản"))],8,ve)],32),t("p",fe,[e[21]||(e[21]=i(" Đã có tài khoản? ",-1)),o(l(b),{href:"/login",class:"font-medium text-primary hover:text-secondary"},{default:g(()=>[...e[20]||(e[20]=[i(" Đăng nhập ",-1)])]),_:1})])])])])],64))}};export{Me as default};
