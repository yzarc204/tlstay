import{c as i,d as t,o as d,r as w,a,b as l,h as N,w as g,t as n,g as j,j as k,F as c,i as C,n as T,e as V,q as $,f as p,l as x}from"./app-BAzZH7GZ.js";import{_ as D}from"./AppLayout-4MfulTDL.js";import{r as h}from"./DocumentTextIcon-CMK6amnj.js";import{r as S}from"./CheckCircleIcon-DdpmlONj.js";import{r as L}from"./ClockIcon--Dq39RJd.js";import{r as B}from"./EyeIcon-GZ9NwWkm.js";import{r as A}from"./CreditCardIcon-DamFTuBD.js";/* empty css            */import"./auth-BysJMb9A.js";import"./FlashToaster-Ci4DMZef.js";import"./ChevronDownIcon-XlQbJEkB.js";import"./UserIcon-CGMoGnvG.js";import"./PhoneIcon-ZIaiO5dA.js";import"./EnvelopeIcon-CNc2UOAz.js";function F(r,f){return d(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}const H={class:"min-h-screen bg-gray-50 py-8"},P={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},q={class:"bg-white rounded-lg shadow-sm p-6"},I={class:"flex items-center justify-between"},O={class:"text-2xl font-bold text-gray-900 mt-1"},X={class:"p-3 bg-blue-100 rounded-lg"},Z={class:"bg-white rounded-lg shadow-sm p-6"},z={class:"flex items-center justify-between"},E={class:"text-2xl font-bold text-green-600 mt-1"},U={class:"p-3 bg-green-100 rounded-lg"},G={class:"bg-white rounded-lg shadow-sm p-6"},J={class:"flex items-center justify-between"},K={class:"text-2xl font-bold text-yellow-600 mt-1"},Q={class:"p-3 bg-yellow-100 rounded-lg"},R={class:"bg-white rounded-lg shadow-sm p-6"},W={class:"flex items-center justify-between"},Y={class:"text-xl font-bold text-red-600 mt-1"},tt={class:"p-3 bg-red-100 rounded-lg"},st={class:"bg-white rounded-lg shadow-sm p-4 mb-6"},et={class:"flex items-center gap-4"},nt={class:"bg-white rounded-lg shadow-sm overflow-hidden"},ot={key:0,class:"text-center py-12"},at={key:1,class:"divide-y divide-gray-200"},lt={class:"flex items-center gap-3 mb-2"},rt={class:"text-lg font-semibold text-gray-900"},it={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4 text-sm"},dt={class:"font-medium text-gray-900"},mt={class:"font-medium text-gray-900"},ut={class:"font-medium text-gray-900"},gt={class:"font-medium text-gray-900"},ct={class:"mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 text-sm"},pt={class:"flex justify-between"},xt={class:"font-medium"},ht={class:"flex justify-between"},ft={class:"font-medium"},yt={class:"flex justify-between"},_t={class:"font-medium"},vt={class:"mt-4 pt-4 border-t flex items-center justify-between"},bt={class:"text-2xl font-bold text-primary"},wt={class:"mt-4 pt-4 border-t flex flex-col md:flex-row gap-2"},Nt=["onClick"],qt={__name:"Index",props:{invoices:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({total:0,paid:0,pending:0,total_amount:0,paid_amount:0,pending_amount:0})},filters:{type:Object,default:()=>({status:"all"})}},setup(r){const u=w(r.filters.status),y=()=>{x.get("/invoices",{status:u.value==="all"?null:u.value},{preserveState:!0,preserveScroll:!0})},m=o=>!o&&o!==0?"0 ₫":new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(o),_=o=>o?new Date(o).toLocaleDateString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit"}):"N/A",v=o=>o?new Date(o).toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A",b=o=>{x.visit(`/payment/invoice/${o}`,{preserveState:!1,preserveScroll:!1})};return(o,s)=>(d(),i(c,null,[a(l(N),{title:"Hóa đơn"}),a(D,null,{default:g(()=>[t("div",H,[t("div",P,[s[19]||(s[19]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900"},"Hóa đơn của tôi"),t("p",{class:"text-gray-600 mt-1"},"Xem và quản lý tất cả hóa đơn điện nước")],-1)),t("div",M,[t("div",q,[t("div",I,[t("div",null,[s[1]||(s[1]=t("p",{class:"text-sm text-gray-600"},"Tổng hóa đơn",-1)),t("p",O,n(r.stats.total),1)]),t("div",X,[a(l(h),{class:"w-6 h-6 text-blue-600"})])])]),t("div",Z,[t("div",z,[t("div",null,[s[2]||(s[2]=t("p",{class:"text-sm text-gray-600"},"Đã thanh toán",-1)),t("p",E,n(r.stats.paid),1)]),t("div",U,[a(l(S),{class:"w-6 h-6 text-green-600"})])])]),t("div",G,[t("div",J,[t("div",null,[s[3]||(s[3]=t("p",{class:"text-sm text-gray-600"},"Chưa thanh toán",-1)),t("p",K,n(r.stats.pending),1)]),t("div",Q,[a(l(L),{class:"w-6 h-6 text-yellow-600"})])])]),t("div",R,[t("div",W,[t("div",null,[s[4]||(s[4]=t("p",{class:"text-sm text-gray-600"},"Tổng tiền chưa thanh toán",-1)),t("p",Y,n(m(r.stats.pending_amount)),1)]),t("div",tt,[a(l(F),{class:"w-6 h-6 text-red-600"})])])])]),t("div",st,[t("div",et,[s[6]||(s[6]=t("label",{class:"text-sm font-medium text-gray-700"},"Lọc theo trạng thái:",-1)),j(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>u.value=e),onChange:y,class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"},[...s[5]||(s[5]=[t("option",{value:"all"},"Tất cả",-1),t("option",{value:"paid"},"Đã thanh toán",-1),t("option",{value:"pending"},"Chưa thanh toán",-1)])],544),[[k,u.value]])])]),t("div",nt,[r.invoices.length===0?(d(),i("div",ot,[a(l(h),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),s[7]||(s[7]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Chưa có hóa đơn nào",-1)),s[8]||(s[8]=t("p",{class:"text-gray-500"},"Bạn chưa có hóa đơn điện nước nào",-1))])):(d(),i("div",at,[(d(!0),i(c,null,C(r.invoices,e=>(d(),i("div",{key:e.id,class:"p-6 hover:bg-gray-50 transition-colors"},[t("div",null,[t("div",lt,[t("h3",rt," Hóa đơn "+n(e.month_year),1),t("span",{class:T(["px-2 py-1 rounded-full text-xs font-medium",e.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},n(e.status==="paid"?"Đã thanh toán":"Chưa thanh toán"),3)]),t("div",it,[t("div",null,[s[9]||(s[9]=t("p",{class:"text-gray-500"},"Nhà trọ",-1)),t("p",dt,n(e.house_name),1)]),t("div",null,[s[10]||(s[10]=t("p",{class:"text-gray-500"},"Phòng",-1)),t("p",mt,n(e.room_number),1)]),t("div",null,[s[11]||(s[11]=t("p",{class:"text-gray-500"},"Ngày đến hạn",-1)),t("p",ut,n(e.due_date?_(e.due_date):"N/A"),1)]),t("div",null,[s[12]||(s[12]=t("p",{class:"text-gray-500"},"Ngày thanh toán",-1)),t("p",gt,n(e.paid_at?v(e.paid_at):"Chưa thanh toán"),1)])]),t("div",ct,[t("div",pt,[s[13]||(s[13]=t("span",{class:"text-gray-600"},"Tiền điện:",-1)),t("span",xt,n(m(e.electricity_amount)),1)]),t("div",ht,[s[14]||(s[14]=t("span",{class:"text-gray-600"},"Tiền nước:",-1)),t("span",ft,n(m(e.water_amount)),1)]),t("div",yt,[s[15]||(s[15]=t("span",{class:"text-gray-600"},"Phí khác:",-1)),t("span",_t,n(m(e.other_fees)),1)])]),t("div",vt,[s[16]||(s[16]=t("span",{class:"text-lg font-semibold text-gray-900"},"Tổng cộng:",-1)),t("span",bt,n(m(e.total)),1)]),t("div",wt,[a(l($),{href:`/invoices/${e.id}`,class:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-colors"},{default:g(()=>[a(l(B),{class:"w-5 h-5 mr-2"}),s[17]||(s[17]=p(" Xem chi tiết ",-1))]),_:1},8,["href"]),e.status==="pending"?(d(),i("button",{key:0,onClick:jt=>b(e.id),class:"flex-1 inline-flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"},[a(l(A),{class:"w-5 h-5 mr-2"}),s[18]||(s[18]=p(" Thanh toán ",-1))],8,Nt)):V("",!0)])])]))),128))]))])])])]),_:1})],64))}};export{qt as default};
