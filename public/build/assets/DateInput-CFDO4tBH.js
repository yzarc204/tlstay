import{r as c,A as V,B as $,z as b,c as i,g as B,e as f,v as S,d as K,n as D,t as m,o as s}from"./app-BdvrGfPi.js";const w=["id","placeholder","disabled","readonly"],I={key:0,class:"mt-1 text-sm text-red-600"},M={key:1,class:"mt-1 text-xs text-gray-500"},z={__name:"DateInput",props:{modelValue:{type:String,default:""},placeholder:{type:String,default:"dd/mm/yyyy"},error:{type:String,default:""},hint:{type:String,default:""},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},min:{type:String,default:""},max:{type:String,default:""}},emits:["update:modelValue"],setup(d,{emit:p}){const o=d,a=p,h=c(null),g=V(()=>`date-input-${Math.random().toString(36).substr(2,9)}`),r=c(""),u=e=>{if(!e)return"";if(/^\d{2}\/\d{2}\/\d{4}$/.test(e))return e;if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,l,n]=e.split("-");return`${n}/${l}/${t}`}return e},y=e=>{if(!e)return"";if(/^\d{2}\/\d{2}\/\d{4}$/.test(e)){const[t,l,n]=e.split("/");return`${n}-${l}-${t}`}return/^\d{4}-\d{2}-\d{2}$/.test(e)?e:""},k=e=>{let t=e.target.value.replace(/\D/g,"");t.length>8&&(t=t.slice(0,8));let l=t;t.length>2&&(l=t.slice(0,2)+"/"+t.slice(2)),t.length>4&&(l=t.slice(0,2)+"/"+t.slice(2,4)+"/"+t.slice(4)),r.value=l,l.length===10?a("update:modelValue",y(l)):l.length===0&&a("update:modelValue","")},C=()=>{r.value&&r.value.length===10&&a("update:modelValue",y(r.value))},x=e=>{[8,9,27,13,46,37,38,39,40].indexOf(e.keyCode)!==-1||e.keyCode===65&&e.ctrlKey===!0||e.keyCode===67&&e.ctrlKey===!0||e.keyCode===86&&e.ctrlKey===!0||e.keyCode===88&&e.ctrlKey===!0||e.keyCode>=35&&e.keyCode<=39||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()};return $(()=>o.modelValue,e=>{if(e){const t=u(e);t!==r.value&&(r.value=t)}else r.value=""},{immediate:!0}),b(()=>{o.modelValue&&(r.value=u(o.modelValue))}),(e,t)=>(s(),i("div",null,[B(K("input",{id:g.value,ref_key:"inputRef",ref:h,"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),type:"text",placeholder:d.placeholder||"dd/mm/yyyy",class:D(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",d.error?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-primary"]),disabled:d.disabled,readonly:d.readonly,onInput:k,onBlur:C,onKeydown:x},null,42,w),[[S,r.value]]),d.error?(s(),i("p",I,m(d.error),1)):f("",!0),d.hint&&!d.error?(s(),i("p",M,m(d.hint),1)):f("",!0)]))}};export{z as _};
