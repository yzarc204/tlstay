import{r as f,A as W,z as le,c as n,a as p,b as m,h as ne,w as U,d as t,q as z,f as g,k as D,e as c,g as k,n as h,v as V,o as a,t as u,F,i as T,s as ae,l as ie}from"./app-CH4CEp7f.js";import{u as de}from"./index--_UCWow5.js";import{_ as ue}from"./AdminLayout-BT6D36Nk.js";import{_ as pe}from"./SelectSearchable-BiWu3_fh.js";import{r as me}from"./ChevronLeftIcon-DodNt9Jn.js";import{r as I}from"./ExclamationCircleIcon-CIywKi7C.js";import{r as L}from"./PhotoIcon-CGQz7Bxq.js";import{a as K}from"./FlashToaster-Co9bFWRi.js";/* empty css            */import"./MapPinIcon-A7TLZLbH.js";import"./CalendarIcon-DL8s8YjY.js";import"./BuildingOfficeIcon-BvyATTDh.js";import"./ChevronUpDownIcon-B4DqVAmi.js";const ge={class:"space-y-6"},ce={class:"flex items-center justify-between"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},fe={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},ye={class:"mt-6"},be={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_e={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},we={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Ve={class:"flex items-center gap-2"},Ie={class:"text-xs text-gray-500 font-medium whitespace-nowrap"},$e={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Ce={class:"flex items-center gap-2"},Be={class:"text-xs text-gray-500 font-medium whitespace-nowrap"},Me={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Ne={class:"flex items-center gap-2"},Ee={class:"text-xs text-gray-500 font-medium whitespace-nowrap"},Fe={key:0,class:"mt-1 text-sm text-red-600 flex items-center gap-1"},Pe={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Ae=["value"],je={class:"text-sm text-gray-700"},Ge={key:0,class:"mt-1 text-sm text-red-600"},Ue={class:"flex items-center justify-between mb-4"},De={class:"text-sm text-gray-600"},Te={class:"font-medium"},Oe={key:0,class:"text-green-600 ml-2"},Se={key:1,class:"text-red-600 ml-2"},qe={class:"space-y-4"},We={class:"space-y-4"},ze={class:"flex flex-col items-center"},Le={key:0,class:"mt-2 text-xs font-medium text-red-600"},Ke={key:0,class:"text-sm text-red-600"},Re={key:1,class:"space-y-2"},Je={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},Xe={class:"relative overflow-hidden rounded-lg"},Ze=["src","alt","onClick","onError"],He={key:1,class:"w-full h-32 bg-gray-100 flex items-center justify-center border-2 border-gray-200"},Qe=["onClick"],Ye={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},et={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tt={key:2,class:"space-y-2"},rt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},st={class:"relative overflow-hidden rounded-lg"},ot=["src","alt","onClick"],lt=["onClick"],nt={key:0,class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},at={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},it={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},dt={class:"text-sm text-red-600"},ut={key:1,class:"p-4 bg-green-50 border border-green-200 rounded-lg"},pt={class:"text-sm text-green-600"},mt={class:"flex justify-end gap-3 pt-4 border-t"},gt=["disabled"],Ct={__name:"Edit",props:{house:{type:Object,required:!0},streets:{type:Array,default:()=>[]},errors:{type:Object,default:()=>({})}},setup(O){const R={Wifi:"Wifi",AirConditioning:"Điều hòa",HotWater:"Nóng lạnh",PrivateKitchen:"Bếp riêng",SharedKitchen:"Bếp chung",SharedBathroom:"Vệ sinh chung",PrivateBathroom:"Vệ sinh khép kín",Bed:"Giường",Wardrobe:"Tủ",Refrigerator:"Tủ lạnh",Balcony:"Ban công",SharedWashingMachine:"Máy giặt chung",PrivateWashingMachine:"Máy giặt riêng",SharedDryer:"Máy sấy quần áo chung",PrivateDryer:"Máy sấy quần áo riêng"},i=O,o=f({name:"",street_detail:"",street_id:"",description:"",amenities:[],price_per_day:"",price_per_week:"",price_per_month:"",latitude:"",longitude:""}),C=f(null),S=f(null),v=f([]),B=f([]),M=f([]),y=f([]),b=f([]),N=f(!1),x=f(""),E=f(""),l=f({}),P=W(()=>v.value.length+M.value.length),$=W(()=>Math.max(0,10-P.value)),J=s=>s?new Intl.NumberFormat("vi-VN").format(s):"0",A=s=>!s||s===0?"":J(s)+" đ";le(()=>{let s="",e="";i.house.street_id&&(e=i.house.street_id),i.house.street_detail?s=i.house.street_detail:i.house.address&&(s=i.house.address),o.value={name:i.house.name||"",street_detail:s,street_id:e,description:i.house.description||"",amenities:i.house.amenities?[...i.house.amenities]:[],price_per_day:i.house.price_per_day||"",price_per_week:i.house.price_per_week||"",price_per_month:i.house.price_per_month||"",latitude:i.house.latitude||"",longitude:i.house.longitude||""},i.house.images&&Array.isArray(i.house.images)?v.value=i.house.images.filter(r=>r&&r.trim()!==""):i.house.image&&i.house.image.trim()!==""?v.value=[i.house.image]:v.value=[],i.house.featured_images&&Array.isArray(i.house.featured_images)?y.value=i.house.featured_images.filter(r=>r&&r.trim()!==""):y.value=[],i.errors&&Object.keys(i.errors).length>0&&(l.value={...i.errors})});const{isOverDropZone:X}=de(S,{onDrop:s=>{s&&s.length>0&&q(Array.from(s))}}),q=s=>{if(x.value="",P.value+s.length>10){const r=$.value;x.value=`Chỉ có thể thêm tối đa ${r} ảnh nữa (tổng tối đa 10 ảnh)`;return}s.forEach(r=>{if(r.size>5*1024*1024){x.value=`Ảnh ${r.name} vượt quá 5MB`;return}if(!["image/jpeg","image/png","image/jpg","image/gif","image/webp"].includes(r.type)){x.value=`File ${r.name} không phải là ảnh hợp lệ (JPEG, PNG, JPG, GIF, WEBP)`;return}M.value.push(r);const w=new FileReader;w.onload=oe=>{B.value.push(oe.target.result)},w.readAsDataURL(r)})},Z=s=>{const e=Array.from(s.target.files);q(e),C.value&&(C.value.value="")},H=s=>{const e=v.value[s];v.value.splice(s,1);const r=y.value.indexOf(e);r>-1&&y.value.splice(r,1)},Q=s=>{const e=v.value[s];v.value.splice(s,1);const r=y.value.indexOf(e);r>-1&&y.value.splice(r,1)},Y=s=>{M.value.splice(s,1),B.value.splice(s,1);const e=b.value.indexOf(s);e>-1&&b.value.splice(e,1),b.value=b.value.map(r=>r>s?r-1:r)},j=s=>y.value.includes(v.value[s]),ee=s=>{const e=v.value[s],r=y.value.indexOf(e);r>-1?y.value.splice(r,1):y.value.push(e)},G=s=>b.value.includes(s),te=s=>{const e=b.value.indexOf(s);e>-1?b.value.splice(e,1):b.value.push(s)},_=s=>{l.value[s]&&delete l.value[s]},re=()=>{const s={};return o.value.name?.trim()||(s.name="Vui lòng nhập tên nhà trọ"),o.value.street_detail?.trim()||(s.street_detail="Vui lòng nhập địa chỉ cụ thể"),o.value.street_id||(s.street_id="Vui lòng chọn đường"),(!o.value.price_per_day||o.value.price_per_day<=0)&&(s.price_per_day="Vui lòng nhập giá thuê hợp lệ"),o.value.latitude&&(o.value.latitude<-90||o.value.latitude>90)&&(s.latitude="Vĩ độ phải trong khoảng -90 đến 90"),o.value.longitude&&(o.value.longitude<-180||o.value.longitude>180)&&(s.longitude="Kinh độ phải trong khoảng -180 đến 180"),l.value=s,Object.keys(s).length===0},se=()=>{if(x.value="",E.value="",!re()){x.value="Vui lòng kiểm tra lại các trường bắt buộc";return}N.value=!0;const s=new FormData;s.append("_method","PUT"),s.append("name",o.value.name),s.append("street_detail",o.value.street_detail),s.append("street_id",o.value.street_id),o.value.description&&s.append("description",o.value.description),s.append("price_per_day",o.value.price_per_day),o.value.price_per_week&&s.append("price_per_week",o.value.price_per_week),o.value.price_per_month&&s.append("price_per_month",o.value.price_per_month),o.value.latitude&&s.append("latitude",o.value.latitude),o.value.longitude&&s.append("longitude",o.value.longitude),o.value.amenities.forEach(e=>{s.append("amenities[]",e)}),v.value.forEach(e=>{s.append("existing_images[]",e)}),M.value.forEach(e=>{s.append("images[]",e)}),y.value.forEach(e=>{s.append("featured_images[]",e)}),b.value.forEach(e=>{s.append("featured_image_indices[]",e)}),ie.post(`/admin/houses/${i.house.id}`,s,{preserveScroll:!0,onSuccess:()=>{E.value="Đã cập nhật nhà trọ thành công!"},onError:e=>{l.value=e,e.message&&(x.value=e.message)},onFinish:()=>{N.value=!1}})};return(s,e)=>(a(),n(F,null,[p(m(ne),{title:"Chỉnh sửa nhà trọ"}),p(ue,{title:"Chỉnh sửa nhà trọ"},{default:U(()=>[t("div",ge,[t("div",ce,[t("div",null,[p(m(z),{href:"/admin/houses",class:"text-primary hover:text-primary-600 mb-2 inline-flex items-center text-sm"},{default:U(()=>[p(m(me),{class:"h-4 w-4 mr-1"}),e[20]||(e[20]=g(" Quay lại danh sách ",-1))]),_:1}),e[21]||(e[21]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Chỉnh sửa nhà trọ",-1))])]),t("form",{onSubmit:D(se,["prevent"]),class:"bg-white rounded-lg shadow-sm p-6 space-y-6"},[t("div",null,[e[26]||(e[26]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Thông tin cơ bản",-1)),t("div",ve,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Tên nhà trọ "),t("span",{class:"text-red-500"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value.name=r),type:"text",required:"",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.name?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Nhập tên nhà trọ",onBlur:e[1]||(e[1]=r=>_("name"))},null,34),[[V,o.value.name]]),l.value.name?(a(),n("p",he,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.name),1)])):c("",!0)]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Địa chỉ cụ thể "),t("span",{class:"text-red-500"},"*")],-1)),k(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.value.street_detail=r),type:"text",required:"",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.street_detail?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Số nhà, ngõ ngách...",onBlur:e[3]||(e[3]=r=>_("street_detail"))},null,34),[[V,o.value.street_detail]]),l.value.street_detail?(a(),n("p",fe,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.street_detail),1)])):c("",!0)]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Đường "),t("span",{class:"text-red-500"},"*")],-1)),p(pe,{modelValue:o.value.street_id,"onUpdate:modelValue":[e[4]||(e[4]=r=>o.value.street_id=r),e[5]||(e[5]=r=>_("street_id"))],options:O.streets,"option-value":"id","option-label":r=>r.parent?`${r.name} (${r.parent.name})`:r.name,"filter-by":r=>r.parent?`${r.name} ${r.parent.name}`:r.name,placeholder:"Tìm kiếm và chọn đường...",error:l.value.street_id},null,8,["modelValue","options","option-label","filter-by","error"])])]),t("div",ye,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mô tả",-1)),k(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>o.value.description=r),rows:"4",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.description?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"Nhập mô tả về nhà trọ...",onBlur:e[7]||(e[7]=r=>_("description"))},null,34),[[V,o.value.description]]),l.value.description?(a(),n("p",be,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.description),1)])):c("",!0)])]),t("div",null,[e[29]||(e[29]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Vị trí",-1)),t("div",xe,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Vĩ độ",-1)),k(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>o.value.latitude=r),type:"number",step:"any",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.latitude?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"21.0285",onBlur:e[9]||(e[9]=r=>_("latitude"))},null,34),[[V,o.value.latitude]]),l.value.latitude?(a(),n("p",_e,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.latitude),1)])):c("",!0)]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Kinh độ",-1)),k(t("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>o.value.longitude=r),type:"number",step:"any",class:h(["w-full px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.longitude?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"105.8542",onBlur:e[11]||(e[11]=r=>_("longitude"))},null,34),[[V,o.value.longitude]]),l.value.longitude?(a(),n("p",we,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.longitude),1)])):c("",!0)])])]),t("div",null,[e[35]||(e[35]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Giá và thông tin",-1)),t("div",ke,[t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[g(" Giá thuê/ngày (VNĐ) "),t("span",{class:"text-red-500"},"*")],-1)),t("div",Ve,[k(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>o.value.price_per_day=r),type:"number",step:"1000",min:"0",required:"",class:h(["flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.price_per_day?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"500000",onBlur:e[13]||(e[13]=r=>_("price_per_day"))},null,34),[[V,o.value.price_per_day,void 0,{number:!0}]]),t("span",Ie,u(A(o.value.price_per_day)),1)]),l.value.price_per_day?(a(),n("p",$e,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.price_per_day),1)])):c("",!0)]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Giá thuê/tuần (VNĐ) ",-1)),t("div",Ce,[k(t("input",{"onUpdate:modelValue":e[14]||(e[14]=r=>o.value.price_per_week=r),type:"number",step:"1000",min:"0",class:h(["flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.price_per_week?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"3000000",onBlur:e[15]||(e[15]=r=>_("price_per_week"))},null,34),[[V,o.value.price_per_week,void 0,{number:!0}]]),t("span",Be,u(A(o.value.price_per_week)),1)]),l.value.price_per_week?(a(),n("p",Me,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.price_per_week),1)])):c("",!0),e[32]||(e[32]=t("p",{class:"mt-1 text-xs text-gray-500"},"Để trống nếu tính theo giá ngày × 7",-1))]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Giá thuê/tháng (VNĐ) ",-1)),t("div",Ne,[k(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>o.value.price_per_month=r),type:"number",step:"1000",min:"0",class:h(["flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:outline-none transition-colors",l.value.price_per_month?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-primary focus:border-transparent"]),placeholder:"12000000",onBlur:e[17]||(e[17]=r=>_("price_per_month"))},null,34),[[V,o.value.price_per_month,void 0,{number:!0}]]),t("span",Ee,u(A(o.value.price_per_month)),1)]),l.value.price_per_month?(a(),n("p",Fe,[p(m(I),{class:"h-4 w-4"}),g(" "+u(l.value.price_per_month),1)])):c("",!0),e[34]||(e[34]=t("p",{class:"mt-1 text-xs text-gray-500"},"Để trống nếu tính theo giá ngày × 30",-1))])])]),t("div",null,[e[36]||(e[36]=t("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"Tiện nghi",-1)),t("div",Pe,[(a(),n(F,null,T(R,(r,d)=>t("label",{key:d,class:"flex items-center space-x-2 cursor-pointer p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[k(t("input",{"onUpdate:modelValue":e[18]||(e[18]=w=>o.value.amenities=w),type:"checkbox",value:d,class:"rounded border-gray-300 text-primary focus:ring-primary"},null,8,Ae),[[ae,o.value.amenities]]),t("span",je,u(r),1)])),64))]),l.value.amenities?(a(),n("p",Ge,u(l.value.amenities),1)):c("",!0)]),t("div",null,[t("div",Ue,[e[38]||(e[38]=t("h2",{class:"text-lg font-semibold text-gray-900"},"Hình ảnh",-1)),t("div",De,[t("span",Te,u(P.value),1),e[37]||(e[37]=g(" / 10 ảnh ",-1)),$.value>0?(a(),n("span",Oe," (Còn có thể thêm "+u($.value)+" ảnh) ",1)):(a(),n("span",Se," (Đã đạt giới hạn) "))])]),t("div",qe,[t("div",{ref_key:"dropZoneRef",ref:S,class:h(["border-2 border-dashed rounded-lg p-8 text-center transition-colors",$.value>0?"cursor-pointer border-gray-300 hover:border-gray-400":"cursor-not-allowed border-gray-200 bg-gray-50 opacity-60",m(X)&&$.value>0?"border-primary bg-primary/5":""]),onClick:e[19]||(e[19]=r=>$.value>0?C.value?.click():null)},[t("input",{ref_key:"fileInput",ref:C,type:"file",multiple:"",accept:"image/*",onChange:Z,class:"hidden"},null,544),t("div",We,[t("div",ze,[p(m(L),{class:"h-12 w-12 text-gray-400 mb-2"}),e[39]||(e[39]=t("p",{class:"text-sm font-medium text-gray-700"},[g(" Kéo thả ảnh vào đây hoặc "),t("span",{class:"text-primary hover:text-primary-600 font-medium underline"}," chọn từ máy tính ")],-1)),e[40]||(e[40]=t("p",{class:"mt-1 text-xs text-gray-500"}," Tối đa 10 ảnh, mỗi ảnh tối đa 5MB ",-1)),e[41]||(e[41]=t("p",{class:"mt-1 text-xs text-gray-500"}," Định dạng: JPEG, PNG, JPG, GIF, WEBP ",-1)),$.value===0?(a(),n("p",Le," Đã đạt giới hạn 10 ảnh. Vui lòng xóa ảnh để thêm ảnh mới. ")):c("",!0)])])],2),l.value.images?(a(),n("p",Ke,u(l.value.images),1)):c("",!0),v.value.length>0?(a(),n("div",Re,[e[44]||(e[44]=t("h3",{class:"text-sm font-medium text-gray-700"},"Ảnh hiện có",-1)),e[45]||(e[45]=t("p",{class:"text-xs text-gray-500 mb-2"}," Nhấp vào ảnh để chọn hiển thị trong chi tiết, nhấp vào X để xóa ảnh ",-1)),t("div",Je,[(a(!0),n(F,null,T(v.value,(r,d)=>(a(),n("div",{key:d,class:"relative group"},[t("div",Xe,[r&&r.trim()!==""?(a(),n("img",{key:0,src:r,alt:`Image ${d+1}`,class:h(["w-full h-32 object-cover transition-all cursor-pointer border-2",j(d)?"border-primary ring-2 ring-primary ring-offset-2 scale-105":"border-gray-200 hover:border-gray-300"]),onClick:w=>ee(d),onError:w=>Q(d)},null,42,Ze)):(a(),n("div",He,[p(m(L),{class:"h-8 w-8 text-gray-400"})])),t("button",{type:"button",onClick:D(w=>H(d),["stop"]),class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg opacity-80 group-hover:opacity-100 transition-all duration-200 hover:scale-110 z-10",title:"Xóa ảnh này"},[p(m(K),{class:"h-4 w-4"})],8,Qe),t("div",{class:h(["absolute top-2 left-2 rounded-full p-1 shadow-lg transition-all duration-200",j(d)?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-white text-gray-400 hover:bg-gray-50"])},[j(d)?(a(),n("svg",Ye,[...e[42]||(e[42]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(a(),n("svg",et,[...e[43]||(e[43]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],2)])]))),128))])])):c("",!0),B.value.length>0?(a(),n("div",tt,[e[48]||(e[48]=t("h3",{class:"text-sm font-medium text-gray-700"},"Ảnh mới",-1)),e[49]||(e[49]=t("p",{class:"text-xs text-gray-500 mb-2"}," Nhấp vào ảnh để chọn hiển thị trong chi tiết, nhấp vào X để xóa ảnh ",-1)),t("div",rt,[(a(!0),n(F,null,T(B.value,(r,d)=>(a(),n("div",{key:d,class:"relative group"},[t("div",st,[t("img",{src:r,alt:`New preview ${d+1}`,class:h(["w-full h-32 object-cover transition-all cursor-pointer border-2",G(d)?"border-primary ring-2 ring-primary ring-offset-2 scale-105":"border-gray-200 hover:border-gray-300"]),onClick:w=>te(d)},null,10,ot),t("button",{type:"button",onClick:D(w=>Y(d),["stop"]),class:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 shadow-lg opacity-80 group-hover:opacity-100 transition-all duration-200 hover:scale-110 z-10",title:"Xóa ảnh này"},[p(m(K),{class:"h-4 w-4"})],8,lt),t("div",{class:h(["absolute top-2 left-2 rounded-full p-1 shadow-lg transition-all duration-200",G(d)?"bg-primary text-white ring-2 ring-primary ring-offset-2":"bg-white text-gray-400 hover:bg-gray-50"])},[G(d)?(a(),n("svg",nt,[...e[46]||(e[46]=[t("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):(a(),n("svg",at,[...e[47]||(e[47]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],2)])]))),128))])])):c("",!0)])]),x.value?(a(),n("div",it,[t("p",dt,u(x.value),1)])):c("",!0),E.value?(a(),n("div",ut,[t("p",pt,u(E.value),1)])):c("",!0),t("div",mt,[p(m(z),{href:"/admin/houses",class:"px-6 py-2 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},{default:U(()=>[...e[50]||(e[50]=[g(" Hủy ",-1)])]),_:1}),t("button",{type:"submit",disabled:N.value,class:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},u(N.value?"Đang lưu...":"Cập nhật nhà trọ"),9,gt)])],32)])]),_:1})],64))}};export{Ct as default};
