import{B as P,C as j,A as W,D as p,b as C}from"./app-aSgyFo0X.js";const L=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const G=Object.prototype.toString,I=l=>G.call(l)==="[object Object]";function V(l){return Array.isArray(l)?l:[l]}function M(l,u,n){return P(l,u,{...n,immediate:!0})}const U=L?window:void 0;function Z(l){var u;const n=p(l);return(u=n?.$el)!==null&&u!==void 0?u:n}function m(...l){const u=(a,r,t,c)=>(a.addEventListener(r,t,c),()=>a.removeEventListener(r,t,c)),n=W(()=>{const a=V(p(l[0])).filter(r=>r!=null);return a.every(r=>typeof r!="string")?a:void 0});return M(()=>{var a,r;return[(a=(r=n.value)===null||r===void 0?void 0:r.map(t=>Z(t)))!==null&&a!==void 0?a:[U].filter(t=>t!=null),V(p(n.value?l[1]:l[0])),V(C(n.value?l[2]:l[1])),p(n.value?l[3]:l[2])]},([a,r,t,c],v,o)=>{if(!a?.length||!r?.length||!t?.length)return;const h=I(c)?{...c}:c,T=a.flatMap(s=>r.flatMap(b=>t.map(g=>u(s,b,g,h))));o(()=>{T.forEach(s=>s())})},{flush:"post"})}function B(l,u={}){const n=j(!1),a=j(null);let r=0,t=!0;if(L){var c,v;const o=typeof u=="function"?{onDrop:u}:u,h=(c=o.multiple)!==null&&c!==void 0?c:!0,T=(v=o.preventDefaultForUnhandled)!==null&&v!==void 0?v:!1,s=e=>{var i,d;const f=Array.from((i=(d=e.dataTransfer)===null||d===void 0?void 0:d.files)!==null&&i!==void 0?i:[]);return f.length===0?null:h?f:[f[0]]},b=e=>{const i=C(o.dataTypes);return typeof i=="function"?i(e):i?.length?e.length===0?!1:e.every(d=>i.some(f=>d.includes(f))):!0},g=e=>{if(o.checkValidity)return o.checkValidity(e);const i=b(Array.from(e??[]).map(f=>f.type)),d=h||e.length<=1;return i&&d},O=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),y=(e,i)=>{var d,f;const F=(d=e.dataTransfer)===null||d===void 0?void 0:d.items;if(t=(f=F&&g(F))!==null&&f!==void 0?f:!1,T&&e.preventDefault(),!O()&&!t){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const S=s(e);switch(i){case"enter":var k;r+=1,n.value=!0,(k=o.onEnter)===null||k===void 0||k.call(o,null,e);break;case"over":var A;(A=o.onOver)===null||A===void 0||A.call(o,null,e);break;case"leave":var D;r-=1,r===0&&(n.value=!1),(D=o.onLeave)===null||D===void 0||D.call(o,null,e);break;case"drop":if(r=0,n.value=!1,t){var E;a.value=S,(E=o.onDrop)===null||E===void 0||E.call(o,S,e)}break}};m(l,"dragenter",e=>y(e,"enter")),m(l,"dragover",e=>y(e,"over")),m(l,"dragleave",e=>y(e,"leave")),m(l,"drop",e=>y(e,"drop"))}return{files:a,isOverDropZone:n}}export{B as u};
