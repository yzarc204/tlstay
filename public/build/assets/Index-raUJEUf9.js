import{x as k,c as l,a,b as o,h as T,w as d,d as e,e as c,q as m,f as h,g as y,v as C,j as B,o as r,F as g,i as b,n as v,t as u,y as j,l as w}from"./app-ppQx7_BQ.js";import{r as S,_ as $}from"./AdminLayout-BFmvflv5.js";import{_ as V}from"./Button-hEd7O9IV.js";import{r as M}from"./PlusIcon-_41a6Qdj.js";import{r as N}from"./TrashIcon-Dflq_pNl.js";/* empty css            */import"./FlashToaster-DRaP0e7V.js";import"./MapPinIcon-L4fB1UUx.js";import"./CalendarIcon-B2fvGfwC.js";import"./BuildingOfficeIcon-D5_B3Cmo.js";const Q={class:"space-y-6"},F={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},H={class:"bg-white rounded-lg shadow-sm p-4"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},D={class:"relative"},I=["src","alt"],O={class:"p-4"},U={class:"font-semibold text-gray-900 mb-1"},z={key:0,class:"text-sm text-gray-600 mb-2 line-clamp-2"},E={class:"flex items-center justify-between text-xs text-gray-500 mb-3"},A={key:0,class:"text-primary"},G={class:"flex items-center space-x-2"},J=["onClick"],K={key:0,class:"text-center py-12 bg-white rounded-lg"},P={key:1,class:"flex justify-center"},R={class:"flex space-x-2"},ie={__name:"Index",props:{banners:{type:Object,required:!0},filters:{type:Object,default:()=>({})}},setup(i){const p=i,n=k({search:p.filters.search||"",status:p.filters.status||""}),f=()=>{w.get("/admin/banners",n,{preserveState:!0,preserveScroll:!0})},_=x=>{confirm("Bạn có chắc chắn muốn xóa banner này?")&&w.delete(`/admin/banners/${x}`,{preserveScroll:!0,onSuccess:()=>{}})};return(x,s)=>(r(),l(g,null,[a(o(T),{title:"Quản lý Banner"}),a($,{title:"Quản lý Banner"},{default:d(()=>[e("div",Q,[e("div",F,[s[3]||(s[3]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Quản lý Slider"),e("p",{class:"text-gray-600 mt-1"},"Quản lý slider trên website")],-1)),a(o(m),{href:"/admin/banners/create"},{default:d(()=>[a(V,null,{default:d(()=>[a(o(M),{class:"h-5 w-5 mr-2"}),s[2]||(s[2]=h(" Thêm slider mới ",-1))]),_:1})]),_:1})]),e("div",H,[e("div",L,[e("div",null,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tìm kiếm",-1)),y(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.search=t),type:"text",placeholder:"Tìm theo tiêu đề, mô tả...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",onInput:f},null,544),[[C,n.search]])]),e("div",null,[s[6]||(s[6]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Trạng thái",-1)),y(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n.status=t),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",onChange:f},[...s[5]||(s[5]=[e("option",{value:""},"Tất cả",-1),e("option",{value:"active"},"Đang hoạt động",-1),e("option",{value:"inactive"},"Tắt",-1)])],544),[[B,n.status]])])])]),e("div",q,[(r(!0),l(g,null,b(i.banners.data,t=>(r(),l("div",{key:t.id,class:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow"},[e("div",D,[e("img",{src:t.image,alt:t.title,class:"w-full h-48 object-cover"},null,8,I),e("span",{class:v(["absolute top-2 right-2 px-2 py-1 text-xs font-semibold rounded",t.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"])},u(t.is_active?"Hoạt động":"Tắt"),3)]),e("div",O,[e("h3",U,u(t.title),1),t.description?(r(),l("p",z,u(t.description),1)):c("",!0),e("div",E,[e("span",null,"Thứ tự: "+u(t.order),1),t.link?(r(),l("span",A,"Có link")):c("",!0)]),e("div",G,[a(o(m),{href:`/admin/banners/${t.id}/edit`,class:"flex-1 px-3 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors text-center"},{default:d(()=>[...s[7]||(s[7]=[h(" Chỉnh sửa ",-1)])]),_:1},8,["href"]),e("button",{onClick:W=>_(t.id),class:"px-3 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},[a(o(N),{class:"h-4 w-4"})],8,J)])])]))),128))]),i.banners.data.length===0?(r(),l("div",K,[a(o(S),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),s[8]||(s[8]=e("p",{class:"text-gray-500"},"Chưa có slider nào",-1))])):c("",!0),i.banners.links&&i.banners.links.length>3?(r(),l("div",P,[e("div",R,[(r(!0),l(g,null,b(i.banners.links,t=>(r(),j(o(m),{key:t.label,href:t.url||"#",class:v(["px-4 py-2 rounded-lg border transition-colors",t.active?"bg-primary text-white border-primary":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50",!t.url&&"opacity-50 cursor-not-allowed"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])):c("",!0)])]),_:1})],64))}};export{ie as default};
