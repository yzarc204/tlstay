import{r as C,A as V,c as o,a as s,e as f,w as c,d as m,n as p,b as u,T as L,o as i,F,i as N,y as _,t as v}from"./app-Bt1z262F.js";import{i as q,n as A,r as O,u as T,a as z,b as D,l as $}from"./ChevronUpDownIcon-OBFFn-rE.js";const j={class:"relative"},E={class:"relative"},K={key:0,class:"relative cursor-default select-none px-4 py-2 text-gray-700"},U={key:0,class:"mt-1 text-sm text-red-600"},G={key:1,class:"mt-1 text-xs text-gray-500"},J={__name:"SelectSearchable",props:{modelValue:{type:[String,Number,Object,null],default:null},options:{type:Array,required:!0},optionValue:{type:[String,Function],default:"id"},optionLabel:{type:[String,Function],default:"name"},placeholder:{type:String,default:"Chọn..."},error:{type:String,default:null},hint:{type:String,default:null},filterBy:{type:[String,Function],default:null}},emits:["update:modelValue"],setup(a,{emit:w}){const t=a,k=w,n=C(""),d=V({get:()=>t.modelValue&&t.options.find(e=>y(e)===t.modelValue)||null,set:e=>{k("update:modelValue",e?y(e):null)}}),y=e=>typeof t.optionValue=="function"?t.optionValue(e):e[t.optionValue],g=e=>e?typeof t.optionLabel=="function"?t.optionLabel(e):e[t.optionLabel]||"":"",S=e=>t.filterBy?typeof t.filterBy=="function"?t.filterBy(e):e[t.filterBy]||"":g(e),h=V(()=>{if(n.value==="")return t.options;const e=n.value.toLowerCase();return t.options.filter(r=>{const l=S(r);return String(l).toLowerCase().includes(e)})}),B=e=>{d.value=e};return(e,r)=>(i(),o("div",j,[s(u($),{modelValue:d.value,"onUpdate:modelValue":[r[2]||(r[2]=l=>d.value=l),B]},{default:c(()=>[m("div",E,[m("div",{class:p(["relative w-full cursor-default overflow-hidden rounded-lg border bg-white text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-white/75 focus-visible:ring-offset-2 focus-visible:ring-offset-primary sm:text-sm",[a.error?"border-red-500 focus-visible:ring-red-500":"border-gray-300 focus-visible:ring-primary"]])},[s(u(q),{class:"w-full border-none py-2 pl-3 pr-10 text-sm leading-5 text-gray-900 focus:ring-0","display-value":()=>n.value?n.value:d.value?g(d.value):"",onChange:r[0]||(r[0]=l=>n.value=l.target.value),placeholder:a.placeholder},null,8,["display-value","placeholder"]),s(u(A),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:c(()=>[s(u(O),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})],2),s(L,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onAfterLeave:r[1]||(r[1]=l=>n.value="")},{default:c(()=>[s(u(T),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black/5 focus:outline-none sm:text-sm"},{default:c(()=>[h.value.length===0&&n.value!==""?(i(),o("div",K," Không tìm thấy kết quả. ")):f("",!0),(i(!0),o(F,null,N(h.value,l=>(i(),_(u(z),{key:y(l),value:l,as:"template"},{default:c(({selected:b,active:x})=>[m("li",{class:p(["relative cursor-default select-none py-2 pl-10 pr-4",x?"bg-primary text-white":"text-gray-900"])},[m("span",{class:p(["block truncate",b?"font-medium":"font-normal"])},v(g(l)),3),b?(i(),o("span",{key:0,class:p(["absolute inset-y-0 left-0 flex items-center pl-3",x?"text-white":"text-primary"])},[s(u(D),{class:"h-5 w-5","aria-hidden":"true"})],2)):f("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),a.error?(i(),o("p",U,v(a.error),1)):f("",!0),a.hint?(i(),o("p",G,v(a.hint),1)):f("",!0)]))}};export{J as _};
